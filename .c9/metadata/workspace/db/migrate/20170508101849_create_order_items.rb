{"changed":true,"filter":false,"title":"20170508101849_create_order_items.rb","tooltip":"/db/migrate/20170508101849_create_order_items.rb","value":"","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":20,"column":3},"action":"remove","lines":["class CreateOrderItems < ActiveRecord::Migration","  def self.up","    create_table :order_items do |t|","      t.integer :phone_id","      t.integer :order_id","      t.float :price","      t.integer :amount","      t.timestamps","    end","","    say_with_time 'Adding foreing keys' do","      # Add foreign key reference to order_items table","      execute 'ALTER TABLE order_items ADD CONSTRAINT fk_order_items_orders","              FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE'","    end","  end","","  def self.down","    drop_table :order_items","  end","end"],"id":11}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1494242121742}